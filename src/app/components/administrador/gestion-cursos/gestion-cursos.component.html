<mat-toolbar color="primary">
  <span>Gestión de Cursos</span>
  <span class="spacer"></span>
  
  <button mat-icon-button (click)="openCreate()" aria-label="Crear curso">
    <mat-icon>add_circle</mat-icon>
  </button>
  
</mat-toolbar>

<div class="container mat-elevation-z2">
  <div class="controls">
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Buscar por nombre, idioma o docente</mat-label>
      <input matInput [(ngModel)]="query" (input)="filter()" />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>

    <div class="filters">
      <mat-form-field appearance="fill">
        <mat-label>Nivel</mat-label>

        <mat-select [(value)]="selectedNivel" (selectionChange)="filter()">
          <mat-option value="">Todos</mat-option>
          <mat-option value="A1">A1</mat-option>
          <mat-option value="A2">A2</mat-option>
          <mat-option value="B1">B1</mat-option>
          <mat-option value="B2">B2</mat-option>
          <mat-option value="C1">C1</mat-option>
          <mat-option value="C2">C2</mat-option>
        </mat-select>
        
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Idioma</mat-label>
        <mat-select [(value)]="selectedIdioma" (selectionChange)="filter()">
          <mat-option value="">Todos</mat-option>
          <mat-option *ngFor="let i of idiomas" [value]="i">{{ i }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div *ngIf="filteredCursos.length === 0" class="empty-card">
    <mat-card>
      <mat-card-content>
        <h3>No hay cursos</h3>
        <p>No se encontraron cursos que coincidan con los filtros actuales.</p>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="course-list">
    <mat-card *ngFor="let curso of filteredCursos" class="course-card">
      <mat-card-header>
        <div mat-card-avatar class="curso-avatar"><mat-icon>menu_book</mat-icon></div>
        <mat-card-title>{{ curso.nombre }} <span class="tag">{{ curso.nivel }}</span></mat-card-title>
        <mat-card-subtitle>Docente: {{ curso.nombreDocente || 'Sin asignar' }} {{ curso.apellidoDocente || '' }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="meta">Idioma: {{ curso.idioma }} · Horario: {{ curso.horario }} · Cupo: {{ curso.cupo }}</p>
      </mat-card-content>
      <mat-card-actions>
        <!-- <button mat-stroked-button color="primary" (click)="editCurso(curso)">Editar</button>
        <button mat-icon-button color="warn" (click)="deleteCurso(curso)" aria-label="Eliminar">
          <mat-icon>delete</mat-icon>
        </button> -->
      </mat-card-actions>
    </mat-card>
  </div>
</div>
